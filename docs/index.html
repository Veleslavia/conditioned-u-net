<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'],
          ['\\(', '\\)']
        ]
      }
    };
  </script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
  </script>

  <title>Conditioned Source Separation for Music Instrument Performances</title>

  <!-- Bootstrap core CSS -->
  <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom fonts for this template -->
  <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link href="vendor/simple-line-icons/css/simple-line-icons.css" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css">

  <!-- Custom styles for this template -->
  <link href="css/landing-page.min.css" rel="stylesheet">

</head>

<body>

  <!-- Masthead -->
  <header class="masthead text-white text-center">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-xl-9 mx-auto">
          <h1 class="mb-5">Conditioned Source Separation for Music Instrument Performances</h1>
          <h5 class="mb-5">arXiv preprint</h5>
        </div>
        <div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
        </div>
      </div>
    </div>
  </header>

  <!-- Testimonials -->
  <section class="testimonials text-center bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-2 offset-lg-3">
          <div class="testimonial-item mx-auto mb-5 mb-lg-0">
            <h5>
                <a href="mailto:olga.slizovskaiaATupfDOTedu" style="text-decoration : none; color : #000000;">
                Olga Slizovskaia<sup>1</sup>
                </a>
            </h5>
            <p class="font-weight-light mb-0"></p>
          </div>
        </div>
        <div class="col-lg-2">
          <div class="testimonial-item mx-auto mb-5 mb-lg-0">
            <h5>
                <a href="mailto:gloria.haroATupfDOTedu" style="text-decoration : none; color : #000000;">
                Gloria Haro<sup>1</sup>
                </a>
            </h5>
            <p class="font-weight-light mb-0"></p>
          </div>
        </div>
        <div class="col-lg-2">
          <div class="testimonial-item mx-auto mb-5 mb-lg-0">
            <h5>
                <a href="mailto:emilia.gomezATupfDOTedu" style="text-decoration : none; color : #000000;">
                Emilia Gómez<sup>1,2</sup>
                </a>
            </h5>
            <p class="font-weight-light mb-0"></p>
          </div>
        </div>
        <div class="col-lg-1">
        </div>
        <div class="col-lg-1">
        </div>
      </div>
      <div class="row">
        <div class="offset-lg-3 col-lg-6 padtop">
          <span class="align-middle">
            <p class="mylead2">
              <sup>1</sup><a href="https://www.upf.edu/web/etic">Universitat Pompeu Fabra, Barcelona, Spain</a><br>
              <sup>2</sup><a href="https://ec.europa.eu/jrc/communities/en/community/humaint">Centre for Advanced Studies, JRC, Seville, Spain</a><br>
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- Icons Grid -->
  <section class="features-icons bg-light text-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-2 offset-lg-3">
          <a href="https://arxiv.org/abs/2004.03873" style="text-decoration : none; color : #000000;">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="fa fa-file-text m-auto text-primary"></i>
              </div>
              <h3>Paper</h3>
              <p class="mylead mb-0">Download from arXiv</p>
            </div>
          </a>
        </div>

        <div class="col-lg-2">
          <a href="https://www.youtube.com/watch?v=qJdsqh2y2C8" style="text-decoration : none; color : #000000;">
            <div class="features-icons-item mx-auto mb-5 mb-lg-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="fa fa-youtube-play m-auto text-primary"></i>
              </div>
              <h3>Video</h3>
              <p class="mylead mb-0">Video results<br></p>
            </div>
          </a>
        </div>

        <div class="col-lg-2">
          <a href="https://github.com/veleslavia/conditioned-u-net" style="text-decoration : none; color : #000000;">
            <div class="features-icons-item mx-auto mb-0 mb-lg-3">
              <div class="features-icons-icon d-flex">
                <i class="fa fa-github-square m-auto text-primary"></i>
              </div>
              <h3>Code</h3>
              <p class="mylead mb-0">Checkout the code<br></p>
            </div>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Image Showcases -->
  <section class="showcase">
    <div class="container">
      <div class="row myrow">
        <div class="offset-lg-1 col-lg-10">
          <h2>Abstract</h2>
          <p class="lead mb-0" align="justify">
          Separating different music instruments playing the same piece is a challenging task since the different audio
            sources are synchronized and playing in harmony. Moreover, the number of sources may vary for each piece
            and some of the sources may belong to the same family of instruments, thus sharing timbral characteristics
            and making the sources more correlated. This paper proposes a source separation method for multiple musical
            instruments sounding simultaneously and explores how much additional information apart from the audio stream
            can lift the quality of source separation. We explore conditioning techniques at different levels of a
            primary source separation network and utilize two extra modalities of data, namely presence or absence of
            instruments in the mixture, and the corresponding video stream data.</p>
        </div>
      </div>

      <div class="row myrow">
        <div class="offset-lg-1 col-lg-10">
          <h2>Model Overview</h2>
            <p class="lead mb-0" align="justify">
                In this work we focus on studying the effect of different types of conditioning and adopt two
                U-Net versions as the baseline architectures. This is an encoder-decoder architecture which consists
                of 6 blocks in the encoder and 6 blocks in the decoder. We employ two variants of the architecture,
                namely: (a) a baseline U-Net architecture as pictured in Figure 1(a) which outputs 13 masks after
                the last upconvolutional layer, and (b) Multi-Head U-Net (MHU-Net) as pictured in Figure 1(b) which has
                a single shared encoder and 13 decoders, where each dedicated decoder yields a mask for its corresponding
                instrument.
            </p>
            <div>
                <center>
                  <div class="row">
                    <div class="offset-lg-2 col-lg-8 text-white">
                            <img class="img-fluid mb-3" src="img/u-net-all.png" alt="" width="1080px">
                    </div>
                    <div class="offset-lg-2 col-lg-8">
                    Fig. 1 - Model overview
                    </div>
                  </div>
            </div>
            <p class="lead mb-0" align="justify">
                The network takes dB-normalized log-sampled STFT computed over about 6 seconds of audio and outputs
                binary or ratio masks.
            </p>
            <p class="lead mb-0" align="justify">
                We study label-conditioning and visual conditioning for source separation. For the case of label
                conditioning, instrument labels are available at the level of individual recordings. They indicate
                presence or absence of each instrument in the mix, which is encoded in a binary indicator vector
                $ \textbf{c}_l \in \{0,1\}^{K} $  where $K$ is the total number of instrument classes considered.
                Then, we use $ \textbf{c}_l $ as a conditioning context vector and compare three types of FiLM conditioning:
                introduced (1) at the bottleneck, (2) at all encoder layers, and (3) at the final decoder layer as
                indicated in Figure 1(c).
                Additionally, we explore simple multiplicative conditioning with the binary indicator vector:
                \begin{equation}
                    \hat{M}_i = \boldsymbol{c}_{l}[i] {M}_i,
                \end{equation}
                where $ \textbf{c}_l[i]$ is the $i^{th}$ component of the context vector and $ {M}_i $ is the $i^{th}$
                preliminary mask as predicted by (MH)U-Net.
            </p>
            <p class="lead mb-0" align="justify">
                For visual context conditioning, we take a single video frame corresponding to the beginning of the audio
                source sample. We use a pretrained ResNet-50 to extract a visual feature vector of size 2048 for every
                present source, and then concatenate them, obtaining a visual context vector $ \textbf{c}_v $ of size
                $ K^{\prime} \times 2048 $ where $ K^{\prime} $ is the maximum number of sources in the mixture. The
                context vector for the unavailable sources is set to all zeros. As for the case of weak label
                conditioning, we compare three alternatives for the FiLM conditioning (see Figure 1(c)).
            </p>
        </div>
      </div>

      <div class="row myrow">
        <div class="offset-lg-1 col-lg-10">
          <h2>Demo</h2>
        </div>
      </div>
      <div class="row myrow">
        <div class="offset-lg-1 iframe-container col-lg-10">
          <iframe src="https://www.youtube.com/embed/qJdsqh2y2C8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        </div>
      </div>

      <div class="row myrow">
        <div class="offset-lg-1 col-lg-10">
          <h2>Audio samples </h2>
          <h5>weak conditioning with labels (Exp. 11) in the paper</h5>
          <br>
          <h5>Trio for 2 Violins and Cello, "Spring" from Four Seasons - Antonio Vivaldi</h5>
          <div class="row myrow">
            <div class="col-md-2">Mix</div>
            <div class="col-md-4"><audio src="audio/12_mix.wav" controls=""></audio></div>
            <div class="col-md-7"><img src="img/12_mix.png" style="width:100%; height: 200px" align="left"></div>

          </div>
          <div class="row myrow">
            <div class="col-md-2">Original violin</div>
            <div class="col-md-4"><audio src="audio/12_vn_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed violin</div>
            <div class="col-md-4"><audio src="audio/12_vn_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/12_vn_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/12_vn_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>

          <div class="row myrow">
            <div class="col-md-2">Original cello</div>
            <div class="col-md-4"><audio src="audio/12_vc_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed cello</div>
            <div class="col-md-4"><audio src="audio/12_vc_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/12_vc_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/12_vc_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <br>
          <h5>Trio for Trumpet, Violin and Cello, Pavane, op. 50 - Gabriel Fauré</h5>
          <div class="row myrow">
            <div class="col-md-2">Mix</div>
            <div class="col-md-4"><audio src="audio/20_mix.wav" controls=""></audio></div>
            <div class="col-md-7"><img src="img/20_mix.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <div class="row myrow">
            <div class="col-md-2">Original trumpet</div>
            <div class="col-md-4"><audio src="audio/20_tpt_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed trumpet</div>
            <div class="col-md-4"><audio src="audio/20_tpt_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/20_tpt_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/20_tpt_sep.png" style="width:100%; height: 200px" align="left"></div>

          </div>
          <div class="row myrow">
            <div class="col-md-2">Original violin</div>
            <div class="col-md-4"><audio src="audio/20_vn_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed violin</div>
            <div class="col-md-4"><audio src="audio/20_vn_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/20_vn_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/20_vn_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <div class="row myrow">
            <div class="col-md-2">Original cello</div>
            <div class="col-md-4"><audio src="audio/20_vc_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed cello</div>
            <div class="col-md-4"><audio src="audio/20_vc_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/20_vc_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/20_vc_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <br>
          <h5>Quartet for 2 Violin, Viola and Double bass, "Rondeau" from Abdelazer - Henry Purcell</h5>
          <div class="row myrow">
            <div class="col-md-2">Mix</div>
            <div class="col-md-4"><audio src="audio/35_mix.wav" controls=""></audio></div>
            <div class="col-md-7"><img src="img/35_mix.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <div class="row myrow">
            <div class="col-md-2">Original violin</div>
            <div class="col-md-4"><audio src="audio/35_vn_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed violin</div>
            <div class="col-md-4"><audio src="audio/35_vn_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/35_vn_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/35_vn_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <div class="row myrow">
            <div class="col-md-2">Original viola</div>
            <div class="col-md-4"><audio src="audio/35_va_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed viola</div>
            <div class="col-md-4"><audio src="audio/35_va_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/35_va_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/35_va_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>
          <div class="row myrow">
            <div class="col-md-2">Original double bass</div>
            <div class="col-md-4"><audio src="audio/35_db_orig.wav" controls=""></audio></div>
            <div class="col-md-2">Reconstructed double bass</div>
            <div class="col-md-4"><audio src="audio/35_db_sep.wav" controls=""></audio></div>
            <div class="col-md-6"><img src="img/35_db_orig.png" style="width:100%; height: 200px" align="left"></div>
            <div class="col-md-6"><img src="img/35_db_sep.png" style="width:100%; height: 200px" align="left"></div>
          </div>
        </div>
      </div>

        <div class="row myrow">
          <div class="offset-lg-1 col-lg-10">
            <h2>Citation</h2>
            <p class="lead mb-0" align="justify">
              O. Slizovskaia, G. Haro, and E. Gómez. "Conditioned Source Separation for Music Instrument Performances." ArXiv preprint, 2020.
            </p>
          </div>
        </div>

        <div class="row myrow">
            <div class="offset-lg-1 col-lg-10">
                <h2>Acknowledgements</h2>
                <p class="lead mb-0">
                This work was funded in part by ERC Innovation Programme (grant 770376, TROMPA);
                  Spanish Ministry of Economy and Competitiveness under the María de Maeztu Units of Excellence Program
                  (MDM-2015-0502) and the Social European Funds; the  MICINN/FEDER UE project with reference
                  PGC2018-098625-B-I00; and the H2020-MSCA-RISE-2017 project with reference 777826 NoMADS. We
                  gratefully acknowledge NVIDIA for the donation of GPUs used for the experiments. </p>
            </div>
        </div>

    </div>
<br><br>
  </section>


  <!-- Footer -->
  <footer class="footer bg-light">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 h-100 text-center text-lg-left my-auto">
          <p class="footer-text mb-4 mb-lg-0">Conditioned Source Separation for Music Instrument Performances</p>
        </div>
        <div class="col-lg-6 h-100 text-center text-lg-right my-auto">
          <ul class="list-inline mb-0">
            <li class="list-inline-item mr-3">
              <a href="https://arxiv.org/abs/2004.03873" class="footer-icon">
                <i class="fa fa-file-text-o"></i>
              </a>
            </li>
            <li class="list-inline-item mr-3">
              <a href="https://www.youtube.com/watch?v=qJdsqh2y2C8" class="footer-icon">
                <i class="fa fa-youtube"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="https://github.com/veleslavia/conditioned-u-net" class="footer-icon">
                <i class="fa fa-git"></i>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="./cite.txt" class="footer-icon">
                <i class="icon-graduation"></i>
              </a>
            </li>

          </ul>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap core JavaScript -->
  <script src="vendor/jquery/jquery.min.js"></script>
  <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>